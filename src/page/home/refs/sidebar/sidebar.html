<script type="text/ng-template" id="treeViewTemplate">
    <ul class="menu-wrapper main">
        <li ui-sref-active="active"
            ng-class="{navclose:!item.$$isExpend,navopen:item.$$isExpend,parent:!isLeaf(item)}"
            ng-click="itemExpended(item, $event);"
            class="menu-item"
            data-level="{{item.level}}"
            ng-init="item.level=0"
            ng-repeat="item in treeData"
            ng-include="itemTemplateUrl || 'treeItemTemplate'"></li>
    </ul>
</script>
<script type="text/ng-template" id="treeItemTemplate">
    <a ng-if="item.uiSref && !item.url" ui-sref="{{item.uiSref}}" class="href">
        <em class="{{getItemIcon(item)}} icon"></em><span class='text-field' ng-click="warpCallback('itemClicked', item, $event);">{{item[textField]}}</span>
    </a>
    <a ng-if="!item.uiSref && !item.url" class="href">
        <em class="{{getItemIcon(item)}} icon"></em><span class='text-field' ng-click="warpCallback('itemClicked', item, $event);">{{item[textField]}}</span>
    </a>
    <a ng-if="item.url"  ng-href="{{item.url}}" class="href">
        <em class="{{getItemIcon(item)}} icon"></em><span class='text-field' ng-click="warpCallback('itemClicked', item, $event);">{{item[textField]}}</span>
    </a>
    <ul class="menu-wrapper sub" ng-if="!isLeaf(item)"
        ng-show="item.$$isExpend" ng-init="currentItem=item">
        <li ui-sref-active="active"
            data-level="{{item.level}}"
            ng-init="item.level=currentItem.level+1"
            ng-class="{active:item.active,navclose:!item.$$isExpend,navopen:item.$$isExpend,parent:!isLeaf(item)}"
            ng-click="itemExpended(item, $event);"
            class="menu-item"
            ng-repeat="item in item.children"
            ng-include="itemTemplateUrl || 'treeItemTemplate'" >
        </li>
    </ul>
</script>