<div class="layout-content" ng-click="showType=0">
    <div ui-layout options="{flow:'row',dividerSize:0,disableToggle:true,disableMobileToggle:true}">
        <div ui-layout-container size="60px">
            <div class="session-head">
                <div class="name-containter pull-left">
                    <span class="username">{{username}}{{'('+phone+')'}}</span><br/>
                    <span class="user-province">{{province}}</span>
                    <span class="user-city">{{city}}</span>
                </div>
                <div class="name-containter pull-right">
                    <i>收藏</i>
                    <i>红心</i>
                    <i>转接2222222222</i>
                </div>
            </div>
        </div>
        <div ui-layout-container>
            <div class="session-info">
                <ul class="talk-list">
                    <li class="talk-item" ng-class="{'user-say':talk.type==1,'me-say':talk.type==0}" ng-repeat="talk in talkList">
                        <div class="talk-border" ng-if="talk.type==1">
                            <div>{{time| date:"HH:mm"}}</div>
                            <div class="avatar"><img src="" alt=""/></div>
                            <div class="tooltip right fade in" tooltip-animation-class="fade">
                                <div class="tooltip-arrow"></div>
                                <div class="tooltip-inner">{{talk.content}}</div>
                            </div>
                        </div>
                        <div class="talk-border" ng-if="talk.type==0">
                            <div>{{time| date:"HH:mm"}}</div>
                            <div class="avatar"><img src="" alt=""/></div>
                            <div class="tooltip left fade in" tooltip-animation-class="fade">
                                <div class="tooltip-arrow"></div>
                                <div class="tooltip-inner">{{talk.content}}</div>
                            </div>
                            <div class="status">{{talk.status==0?'未读':talk.status==1?'已读':'已发送'}}</div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div ui-layout-container size="300px" class="overflow-visible">
            <div class="option-container" ng-init="optionDisabled=false">
                <div ng-show="showType==1&&optionDisabled!==true" class="bq-content">
                    <div class="content-tab">
                        <span ng-click="showCookie=true;showEmotion=false;$event.stopPropagation();" ng-class="{active:showCookie}">表情</span><span ng-click="showCookie=false;showEmotion=true;$event.stopPropagation();" ng-class="{active:showEmotion}">小蜜蜂</span>
                    </div>
                    <div class="content-main">
                        <div ng-show="showCookie" class="main-cookie clearfix">
                            <span ng-repeat="item in cookies" title="{{item.name}}" class="{{item.class}}"></span>
                        </div>
                        <div ng-show="showEmotion" class="main-emotion clearfix">
                            <span ng-repeat="item in emotions" class="{{item.class}}" ></span>
                        </div>
                    </div>
                </div>
                <ul class="option-bar" ng-init="showFast=false;">
                    <li>
                        <div ng-class="{deactive:optionDisabled}" data-describe="图片" class="picture">
                            <input ng-model="inputImg" ng-disabled="optionDisabled" onchange="angular.element(this).scope().fileChange(this,1);$event.stopPropagation()" class="input-file" type="file" name="inputimg" title="图片" accept="image/jpeg,image/png"/>
                        </div>
                    </li>
                    <li>
                        <div ng-class="{deactive:optionDisabled}" data-describe="附件" class="attachment">
                            <input ng-model="inputFile" ng-disabled="optionDisabled" onchange="angular.element(this).scope().fileChange(this,2);$event.stopPropagation()" class="input-file" type="file" name="inputfile" title="附件"/>
                        </div>
                    </li>
                    <li>
                        <div ng-class="{deactive:optionDisabled,active:showType==1}" ng-disabled="optionDisabled" ng-click="showType=1;$event.stopPropagation();" data-describe="表情" class="emotion" ng-init="showBq=false;showCookie=true;showEmotion=false;"></div>
                    </li>
                    <li>
                        <div ng-click="showType=2;$event.stopPropagation();" ng-class="{deactive:optionDisabled,active:showType==2}" ng-disabled="optionDisabled||(inputSay&&inputSay.length>0)" data-describe="快捷消息" class="fastmsg">
                            <div class="fastreply-content" ng-show="showType==2">
                                <section class="fastreply-list">
                                    <p> 快捷回复1 </p>

                                    <p> 快捷回复2 </p>

                                    <p> 快捷回复3 </p>
                                </section>
                                <section class="fastreply-set" data-permissions="M004001006">
                                    <p> 自定义快捷回复设置 </p>
                                </section>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div ng-class="{deactive:optionDisabled}" ng-disabled="optionDisabled" data-describe="语音" class="sound"></div>
                    </li>
                </ul>

            </div>
            <div class="session-input-container" >
                <div custom-loading="false"></div>
                <div class="send-area">
                    <div class="area-media">
                        <section ng-repeat="item in pictures">
                            <span class="media-ico" ng-class="{'media-icofile':item.type=='D','media-icoimg':item.type=='I'}"></span>
                            <span class="media-name">{{item.name}}</span>
                            <span class="media-delete" ng-click="deleteArr(pictures,$index)">删除</span>
                        </section>
                    </div>
                    <div class="area-audio">
                        <section class="audio-file">
                            <span class="audio-ico"></span>
                            <span class="audio-play" ng-click="playAudio()">播放</span>
                            <span class="audio-delete"> × </span>
                        </section>
                    </div>
                    <textarea class="rich-textbox" ng-model="inputSay" maxlength="2000"></textarea>
                </div>
                <div class="send-btn" ng-init="recording=false;">
                    {{recording}}
                    <label class="save-reply"><input type="checkbox" name="savereply" disabled="disabled" data-permissions="M004001005">保存自定义回复</label>
                    <button ng-show="!recording" class="btn-record" ng-click="startRecording();recording=true;">点击开始录音</button>
                    <button ng-show="recording" class="btn-record" ng-click="stopRecording();recording=false;">点击结束开始录音</button>
                    <button ng-click="send()" class="btn btn-primary" data-permissions="M004001002">发送</button>
                    <button class='btn btn-default' ng-click="end()" data-permissions="M004001004">结束服务</button>
                    <button class='btn btn-default' ng-click="wait()" data-permissions="M004001003">转至等待中</button>
                </div>
            </div>
        </div>
    </div>
</div>